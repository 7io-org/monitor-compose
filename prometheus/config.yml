---
global:
  scrape_interval:     15s 
  evaluation_interval: 15s 
  external_labels:
      monitor: 'ledyba-monitor'

# Rule files specifies a list of globs. Rules and alerts are read from
# all matching files.
rule_files:
  - '/etc/prometheus/rules/down.yml'
  - '/etc/prometheus/rules/weather.yml'

scrape_configs:
  - job_name: 'prometheus'
    static_configs:
      - targets: 
        - 'localhost:9090'
  - job_name: 'lunar-mysql'
    static_configs:
      - targets:
        - 'lunar_mysql-mon:9104'
  - job_name: 'pleroma-postgres'
    static_configs:
      - targets:
        - 'pleroma_postgres-mon:9187'
  - job_name: 'nodoca'
    static_configs:
      - targets:
        - 'monitor_node-mon:9100'
  - job_name: 'nginx'
    static_configs:
      - targets:
        - 'porta_web-mon:9913'
  - job_name: 'weather_exporter'
    scrape_interval: '60s'
    metrics_path: '/'
    static_configs:
      - targets:
        - 'weather_exporter:8080'
  - job_name: 'wordpress'
    static_configs:
      - targets: ['7io.org']
    scrape_interval: '30s'
    metrics_path: '/wp-json/metrics'
    params:
      prometheus: ['DAUfZwNRcQWVR8pC76XHLeKaSDaN4ySm']
      users: ['yes']
      posts: ['yes']
      pages: ['yes']
      autoload: ['yes']
      transient: ['yes']
      user_sessions: ['yes']
      posts_without_content: ['yes']
      posts_without_title: ['yes']
      db_size: ['yes']
    scheme: 'https'

# Alerting specifies settings related to the Alertmanager.
alerting:
#  alert_relabel_configs:
#    [ - <relabel_config> ... ]
  alertmanagers:
    - scheme: http
      static_configs:
      - targets:
        - monitor_alertmanager:9093

# Settings related to the remote write feature.
#remote_write:
#  [ - <remote_write> ... ]

# Settings related to the remote read feature.
#remote_read:
#  [ - <remote_read> ... ]
